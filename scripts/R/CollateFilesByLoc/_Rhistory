setwd("/C:\OneDrive\OneDrive - Washington State University (email.wsu.edu)\Projects\CafModelingFlexCropping\Methods\ModelAssessment\RegionalRuns\Batch1ByLoc")
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRuns\\Batch1ByLoc")
files <- list.files(patthern="season_sc_*.dat")
files <- list.files(pattern="season_sc_*.dat")
files <- list.files(pattern="season_sc_*")
files[0]
for(f in 1:length(files)){
f
}
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRuns\\Batch1ByLoc")
files <- list.files(pattern="season_sc_*")
for(f in 1:length(files)){
f
}
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRuns\\Batch1ByLoc")
files <- list.files(pattern="season_sc_*")
for(f in 1:length(files)){
f
}
files[1]
files[1].split("_")
strsplit(files[1], "_")
strsplit(strsplit(files[1], "_")[3], ".")[1]
strsplit(strsplit(files[1], "_")[2], ".")[1]
strsplit(files[1], "_")[2]
strsplit(files[1], "_")[1]
strsplit(files[1], "_")[1][3]
strsplit(files[1], "_")[1][2]
strsplit(files[1], "_")[[2]]
strsplit(files[1], "_")[[1]]
strsplit(files[1], "_")[[1]][2]
strsplit(files[1], "_")[[1]][3]
strsplit(strsplit(files[1], "_")[[1]][3])[[1]][1])
strsplit(strsplit(files[1], "_")[[1]][3]))[[1]][1]
strsplit(strsplit(files[1], "_")[[1]][3])[[1]][1]
strsplit(strsplit(files[1], "_")[[1]][3],".")[[1]][1]
strsplit(strsplit(files[1], "_")[[1]][3],".")
strsplit(strsplit(files[1], "_")[[1]][3]),".")
(strsplit(files[1], "_")[[1]][3])
strsplit(strsplit(files[1], "_")[[1]][3],".")
strsplit(files[1], "_")[[1]][3]
strsplit(strsplit(files[1], "_")[[1]][3],".")
strsplit(files[1], "_")[[]]
strsplit(files[1], "_")
strsplit(files[1], "_")[[1]]
strsplit(files[1], "_")[[1]][3]
gsub(".dat","45.3534N117.9797W.dat")
gsub("^.*?_",".dat",45.3534N117.9797W.dat")
gsub(".dat","",45.3534N117.9797W.dat")
gsub('.dat','',45.3534N117.9797W.dat")
gsub('.dat','','45.3534N117.9797W.dat')
gsub('.dat','',strsplit(files[1], "_")[[1]][3])
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
f.df$rotation = rot
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
View(df)
View(f.df)
if(rot == "sc") { rot = "sC-wW" }
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
View(df)
View(df)
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
View(f.df)
View(df)
View(df)
View(df)
View(f.df)
View(df)
write.table(df, "season.dat", sep = "\t")
df <- rbind(df, f.df)
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRuns\\Batch1ByLoc")
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRuns\\Batch1ByLoc")
files <- list.files(pattern="season_*")
df <- data.frame()
for(f in 1:length(files)){
rot <- strsplit(files[f], "_")[[1]][2]
if(rot == "sc") { rot = "sC-wW" }
if(rot == "sw") { rot = "sW-wW" }
if(rot == "sp") { rot = "sP-wW" }
loc <- gsub('.dat','',strsplit(files[f], "_")[[1]][3])
f.path <- paste(getwd(), files[f], sep = "\\")
f.df <- read.table(files[f], header=TRUE,sep="\t")
f.df$rotation = rot
f.df$location = loc
df <- rbind(df, f.df)
}
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
View(df)
write.table(df, "season_all.dat", sep = "\t", colnames=NA)
names(df)
write.table(df, "season_all.dat", sep = "\t", colnames=names(df))
write.table(df, "season_all.dat", sep = "\t", col.names = names(df))
write.table(df, "season_all2.dat", sep = "\t", row.names = FALSE)
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
View(f.df)
View(f.df)
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
View(f.df)
View(df)
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRuns\\Batch3MetByLoc")
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
View(f.df)
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
ued <- "season" #met, soil
ued+"_*"
cat(ued, "_*")
cat(ued, "_*", sep = "")
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRunLessPreclude\\Scenarios\17-06-30\seasonByLoc")
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRunLessPreclude\\Scenarios\\17-06-30\\seasonByLoc")
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
setwd("C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\ModelAssessment\\RegionalRunLessPreclude\\Scenarios\\17-06-30\\seasonByLoc")
ued <- "season" #met, soil
file.pattern = cat(ued,"_*",sep="")
files <- list.files(pattern=file.pattern)
df <- data.frame()
for(f in 1:length(files)){
rot <- strsplit(files[f], "_")[[1]][2]
if(tolower(rot) == "sc") { rot = "sC-wW" }
if(tolower(rot) == "sw") { rot = "sW-wW" }
if(tolower(rot) == "sp") { rot = "sP-wW" }
loc <- gsub('.dat','',strsplit(files[f], "_")[[1]][3])
f.path <- paste(getwd(), files[f], sep = "\\")
if(ued == "season")
{
cols <- c(rep("numeric",16), rep("character",2), "integer", rep("character", 2), "integer")
}
else if(ued == "met")
{
cols <- c("integer", "NULL", "numeric", rep("character",2), "integer", rep("character", 3))
}
else if(ued == "soil")
{
cols <- c("integer", rep("numeric",3), rep("character",2), "integer", rep("character", 2), "integer")
}
else
{
stop()
}
f.df <- read.table(files[f], header=TRUE,sep="\t", colClasses = cols)
f.df$rotation = rot
f.df$location = loc
df <- rbind(df, f.df)
}
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
outfile <- cat(ued, "_all.dat", sep = "")
source('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
View(f.df)
View(f.df)
View(f.df)
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
debugSource('C:/Drive/Files/Projects/CafModelingFlexCropping/Methods/R/CollateFilesByLoc/collate.R')
outfile
write.table(df, "season_all.dat", sep = "\t", row.names = FALSE)
write.table(df, "season_all2.dat", sep = "\t", row.names = FALSE)
write.table(df, "season_all.dat", sep = "\t", row.names = FALSE)
foo <- cat(ued, "_all.dat", sep = "")
file.pattern <- cat(ued,"_*",sep="")
file.pattern <- print(ued,"_*")
file.pattern <- sprintf(ued,"_*")
file.pattern <- paste(ued,"_*")
file.pattern <- paste(ued,"_*", sep = "")
outfile <- paste(ued, "_all.dat", sep = "")
knitr::opts_chunk$set(echo = TRUE)
source("ggplotRegression.R")
path.obs <- "C:\\OneDrive\\OneDrive - Washington State University (email.wsu.edu)\\Projects\\CafModelingFlexCropping\\Methods\\Calibration\\compileObservedData\\variety-trial-data.xlsx"
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170608.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170609_1.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170609_2.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170609_3.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170609_4.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170609_5.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170609_6.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170609_7.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sc_170609_8.dat", "sC-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sw_170608.dat", "sW-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sw_170609_1.dat", "sW-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sw_170609_2.dat", "sW-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sw_170609_3.dat", "sW-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sw_170609_4.dat", "sW-wW"))
ggplotRegression(prepareData(path.obs, "Input\\season_sp_170608.dat", "sP-wW"))
